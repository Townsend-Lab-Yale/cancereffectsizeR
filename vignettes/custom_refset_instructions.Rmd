---
title: "Running with custom reference data"
---

A refset is a collection of all the reference data required to run a cancereffectsizeR analysis. Currently, an hg19 refset is available in the data package [ces.refset.hg19](https://github.com/Townsend-Lab-Yale/ces.refset.hg19). It's possible to generate your own reference data for pretty much any species or genome build. More detailed documentation is coming, but here is the general idea:

1. Find a GTF containing coding sequence (CDS) definitions, filter to high-quality and desired CDS regions, and run `build_RefCDS()` to get a collection of gene/transcript/CDS information.

2. Run `create_refset()`, which will require your RefCDS output and some additional information, to save reference data to an output directory. 

The output of `create_refset` is usable with cancereffectsizeR, but there are two additional sources of data that you will probably want to add to your refset directory:

3. A CES Signature Set, containing SNV signature definitions and metadata, is required for mutational signature extraction. As long as you have a matrix of signature definitions (e.g., see those published by COSMIC), you can create your own set. (Alternatively, you can copy an existing signature set into your refset directory if the genome build is compatible.) See the details in `trinuc_mutation_rates()` for how to make a signature set, then validate with `validate_signature_set()`. Finally, create a subdirectory called "signatures" in your refset directory, and then use `saveRDS` to save your signature set with the name "[set_name]_signatures.rds".

4. Tissue covariates data inform the calculation of gene mutation rates when cancereffectsizeR calls dNdScv. Documentation on how to generate your own covariates data is coming soon. Covariates data can be saved in a refset subdirectory called "covariates", or you can leave it out of the refset and supply it as an argument to `gene_mutation_rates()`. (You can also run this function without any covariates, but it's best to use them if available.)

For an example refset, see the ces.refset.hg19 data package's refset directory [here](https://github.com/Townsend-Lab-Yale/ces.refset.hg19/tree/main/inst/refset). If your refset also uses the hg19 genome build, then you can copy its signatures and covariates data into your own refset, if desired.
